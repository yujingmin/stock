# Change: 构建个人量化投资平台（网页版）

## Why

作为个人量化投资者，需要一个集"数据获取-策略开发-回测优化-风控管理-实时通知"于一体的专属平台，解决以下痛点：
- 缺乏统一的数据获取与管理工具，需在多个数据源间切换
- 策略开发环境割裂，代码版本管理混乱，策略迭代效率低
- 回测系统与实盘参数脱节，无法准确评估策略真实表现
- 缺少个性化风控规则，容易因情绪化交易导致账户风险
- 关键交易信号无法及时触达，错失最佳操作时机

本项目专注于网页版实现，提供响应式设计，支持PC端主流浏览器及平板设备访问，强调操作便捷性、功能精准性与个人数据安全性。

## What Changes

本提案新增以下六大核心能力模块，构建完整的个人量化投资工作流：

### 1. 市场数据服务 (market-data)
- 多市场实时行情接入（股票/期货/外汇，延迟≤50ms）
- 财务报表、宏观经济指标、因子数据统一管理
- 历史数据（至少10年）查询与导出
- 数据可视化（K线图、热力图、收益曲线）
- 第三方数据源API接入支持

### 2. 策略开发环境 (strategy-development)
- 集成Jupyter交互式编辑器，支持Python 3.11+及akshare数据框架
- 内置Backtrader策略模板与常用量化库（TA-Lib、Pandas、NumPy）
- 语法高亮、自动补全、断点调试功能
- 策略版本管理（增量/全量更新，差异对比，一键回溯）
- 个人代码片段库（高频使用代码一键调用）
- Python虚拟环境管理（隔离依赖冲突）

### 3. 回测与优化系统 (backtesting)
- 支持单策略及策略组合回测
- 真实交易参数配置（佣金、印花税、滑点、T+1规则）
- 实盘交易记录导入与历史场景复现
- 多维度回测报告（年化收益、夏普比率、最大回撤、收益回撤比）
- 策略与基准指数对比分析
- 参数寻优（网格搜索/遗传算法）与过拟合检测
- 实盘级模拟交易（实时行情对接，操作日志记录）

### 4. 风险控制模块 (risk-control)
- 账户级风控规则（最大仓位、单日最大亏损、单只标的持仓限制）
- 策略级止损止盈（固定比例/动态追踪）
- 合规风控校验（交易权限、监管规则）
- 风险归因分析（市场β/策略α、行业集中度）
- 极端市场压力测试

### 5. 消息通知系统 (notification)
- 微信小程序推送（策略信号、回测完成、价格触发、涨跌幅异常）
- 账号绑定与权限细分管理
- 持仓关联触发（仅推送持仓/自选标的消息）
- 结构化消息内容（类型-标的-触发条件-核心数据-操作指引）
- 优先级与频率管控（紧急/普通/次要，聚合推送）
- 通知中心（历史记录、筛选、跟进提醒）
- 个性化推送规则配置

### 6. 用户认证与账户管理 (user-auth)
- 短信验证+密码双重登录机制
- 单账户多策略管理
- 账户资产统一可视化展示
- 个人数据双重加密存储（账户信息、策略代码、交易记录）
- 本地数据导出备份功能

## Impact

### 新增能力
- **市场数据服务**: openspec/specs/market-data/spec.md
- **策略开发环境**: openspec/specs/strategy-development/spec.md
- **回测与优化系统**: openspec/specs/backtesting/spec.md
- **风险控制模块**: openspec/specs/risk-control/spec.md
- **消息通知系统**: openspec/specs/notification/spec.md
- **用户认证与账户管理**: openspec/specs/user-auth/spec.md

### 技术影响
- 前端：响应式Web应用（支持PC端主流浏览器及平板设备）
- 后端：数据服务API、策略执行引擎、风控引擎、通知服务
- 数据库：用户数据、策略代码、回测结果、历史行情数据
- 第三方集成：行情数据源、微信小程序推送服务、akshare数据框架

### 合规与安全
- 符合《证券法》及金融监管总局要求
- 遵循《网络安全等级保护基本要求》
- SSL加密传输与双重加密存储
- 定期安全扫描与隐私保护机制

## Non-Goals (初期不包含)

- 移动原生应用（iOS/Android App）
- 实盘自动交易执行（仅提供信号提醒，不直接下单）
- 多用户协作功能（专注个人使用场景）
- 社区论坛与策略分享功能
- 付费数据服务分级（初期统一使用akshare等开源数据）
